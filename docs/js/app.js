(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],p=0,f=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/tweet-js-loader/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0858":function(e,t,r){},"30b8":function(e,t,r){"use strict";var n=r("0858"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("8c4f"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"home"}},[r("Hero"),r("Description"),e.fileContent?e._e():r("LoadButton",{on:{"file-select":e.recvFileContent}}),e.tweetsForReder.length>0?r("Nav",{attrs:{prevPage:e.prevPage,currentPage:e.currentPage,nextPage:e.nextPage,maxPage:e.maxPage}}):e._e(),r("div",{staticClass:"container"},[r("div",{staticClass:"tweets columns is-mobile is-multiline"},e._l(e.tweetsForReder,(function(e,t){return r("div",{staticClass:"column is-12-mobile is-6-tablet is-4-widescreen is-3-fullhd"},[r("Tweet",{attrs:{tweet:e}})],1)})),0)]),e.tweetsForReder.length>0?r("Nav",{attrs:{prevPage:e.prevPage,currentPage:e.currentPage,nextPage:e.nextPage,maxPage:e.maxPage}}):e._e(),r("Footer",{attrs:{version:e.version}})],1)},i=[],o=(r("4160"),r("fb6a"),r("e25e"),r("159b"),r("96cf"),r("89ba")),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"load-btn"},[r("div",{staticClass:"field columns is-centered"},[r("div",{staticClass:"file is-info"},[r("label",{staticClass:"file-label"},[r("input",{staticClass:"file-input",attrs:{type:"file",name:"tweetjs"},on:{change:e.onFileChange}}),r("span",{staticClass:"file-cta"},[r("span",{staticClass:"file-icon"},[r("font-awesome-icon",{attrs:{icon:["fas","file-upload"]}})],1),r("span",{staticClass:"file-label"},[e._v("tweet.js を読み込む")])])])])]),r("div",{staticClass:"has-text-info columns is-centered"},[e._v(e._s(e.msg))]),r("div",{staticClass:"has-text-danger columns is-centered"},[e._v(e._s(e.errorMsg))])])},l=[],u=(r("b0c0"),r("d3b7"),r("ac1f"),r("5319"),{name:"LoadButton",data:function(){return{msg:"",errorMsg:""}},methods:{onFileChange:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readTweetjs(t).catch((function(e){return console.error(e)}));case 2:r=e.sent,this.$emit("file-select",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),readTweetjs:function(e){var t=this;return new Promise((function(r,n){var a=e.target.files||e.dataTransfer.files;if(!a||0===a.length)return t.errorMsg="ファイルを読み込めませんでした",n(t.errorMsg);if("tweet.js"!==a[0].name)return t.errorMsg="tweet.js を指定してください",n(t.errorMsg);var s=new FileReader;s.addEventListener("load",(function(e){return t.errorMsg="",t.msg="読み込み完了",r(e.target.result.replace("window.YTD.tweet.part0 = ",""))}),!1),t.msg="読み込み中",s.readAsText(a[0])}))}}}),p=u,f=r("2877"),d=Object(f["a"])(p,c,l,!1,null,"fe45b444",null),g=d.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tweet",attrs:{"data-tweet-id":e.tweet.id_str}},[r("blockquote",{staticClass:"twitter-tweet"},[r("p",{attrs:{lang:"ja",dir:"ltr"}}),r("a",{attrs:{href:"https://twitter.com/i/status/"+e.tweet.id_str}})])])},h=[],m={name:"Tweet",props:["tweet"],updated:function(){var e=document.querySelector('div[data-tweet-id="'.concat(this.tweet.id_str,'"'));0===e.getElementsByTagName("blockquote").length&&e.insertAdjacentHTML("afterBegin",'\n        <blockquote class="twitter-tweet">\n          <p lang="ja" dir="ltr"></p>\n          <a href="https://twitter.com/i/status/'.concat(this.tweet.id_str,'"></a>\n        </blockquote>\n        '))}},w=m,b=Object(f["a"])(w,v,h,!1,null,null,null),_=b.exports,P=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"description"},[r("div",{staticClass:"container"},[e._v("以前は「全ツイート履歴」をダウンロードできたが、"),r("a",{attrs:{href:"https://twitter.com/sugtao4423/status/1185464513945980928"}},[e._v("Twitter の UI 変更とともに廃止された模様。")]),r("br"),e._v("代わりに DL できる"),r("a",{attrs:{href:"https://twitter.com/settings/your_twitter_data"}},[e._v("Twitter データ")]),e._v("内の tweet.js を読み込んで過去のツイートを表示できるようにしてみた。")])])}],C={name:"Description"},j=C,y=(r("30b8"),Object(f["a"])(j,P,x,!1,null,"dffd4c9e",null)),T=y.exports,k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hero"},[r("section",{staticClass:"hero is-primary is-bold"},[r("div",{staticClass:"hero-body"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"title is-size-4"},[e._v("tweet.js loader")])])])])])}],E={name:"Hero"},M=E,F=(r("6d78"),Object(f["a"])(M,k,O,!1,null,"20768027",null)),$=F.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"pagination is-centered",attrs:{role:"navigation","aria-label":"pagination"}},[r("ul",{staticClass:"pagination-list"},[r("li",[r("router-link",{staticClass:"pagination-link",attrs:{to:"/?page=1"}},[e._v("Top(1)")])],1),r("li",[r("router-link",{staticClass:"pagination-link",attrs:{to:"/?page="+e.prevPage}},[e._v(e._s(e.prevPage)+"page")])],1),r("li",[r("div",{staticClass:"pagination-link is-current"},[e._v(e._s(e.currentPage)+"page")])]),r("li",[r("router-link",{staticClass:"pagination-link",attrs:{to:"/?page="+e.nextPage}},[e._v(e._s(e.nextPage)+"page")])],1),r("li",[r("router-link",{staticClass:"pagination-link",attrs:{to:"/?page="+e.maxPage}},[e._v("Last("+e._s(e.maxPage)+")")])],1)])])},S=[],N={name:"Nav",props:["prevPage","currentPage","nextPage","maxPage"]},q=N,L=Object(f["a"])(q,R,S,!1,null,null,null),A=L.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"footer"},[r("div",{staticClass:"content has-text-centered"},[r("p",[e._v(e._s(e.version))]),r("p",[r("a",{attrs:{href:"https://github.com/17number/tweet-js-loader",target:"_blank",rel:"noopener noreferrer"}},[r("span",{staticClass:"icon"},[r("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1),e._v("Source code")])]),e._m(0)])])},H=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"powered"},[r("span",[e._v("Powered by")]),r("a",{attrs:{href:"https://pages.github.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub pages")]),r("span",[e._v("+")]),r("a",{attrs:{href:"https://vuejs.org/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js")]),r("span",[e._v("+")]),r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Router")]),r("span",[e._v("+")]),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue CLI")]),r("span",[e._v("+")]),r("a",{attrs:{href:"https://bulma.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bulma")])])}],D={name:"Footer",props:["version"]},I=D,W=(r("a34f"),Object(f["a"])(I,B,H,!1,null,"db5d24fa",null)),J=W.exports,V={name:"Home",components:{LoadButton:g,Tweet:_,Description:T,Hero:$,Nav:A,Footer:J},data:function(){return{fileContent:"",tweets:[],tweetsForReder:[],prevPage:1,currentPage:1,nextPage:2,maxPage:1,countPerPage:60,version:"v1.0.1"}},methods:{recvFileContent:function(e){this.fileContent=e,this.parseTweets(),this.maxPage=Math.ceil(this.tweets.length/this.countPerPage),this.sliceTweets(this.currentPage)},parseTweets:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.tweets=JSON.parse(this.fileContent);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadTwitterWidgetScript:function(){var e=document.createElement("script");e.setAttribute("src","https://platform.twitter.com/widgets.js"),e.setAttribute("async",!0),e.setAttribute("charset","utf-8"),e.setAttribute("id","twitter-widget-script"),document.head.appendChild(e)},removeTwitterWidgetScript:function(){var e=document.getElementById("twitter-widget-script");e&&e.remove()},sliceTweets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.tweetsForReder=this.tweets.slice((e-1)*this.countPerPage,e*this.countPerPage)},setPageNumber:function(){var e=parseInt(this.$route.query.page||1);this.prevPage=Math.max(1,e-1),this.currentPage=e,this.nextPage=e+1},updatePageNumber:function(e){this.prevPage=Math.max(1,e-1),this.currentPage=e,this.nextPage=Math.min(e+1,this.maxPage)}},created:function(){this.setPageNumber()},updated:function(){this.loadTwitterWidgetScript()},beforeRouteUpdate:function(e,t,r){document.querySelectorAll("twitter-widget").forEach((function(e){return e.remove()})),this.tweetsForReder=[],this.updatePageNumber(parseInt(e.query.page)),this.sliceTweets(e.query.page),this.removeTwitterWidgetScript(),r()}},U=V,z=Object(f["a"])(U,s,i,!1,null,null,null),G=z.exports;n["a"].use(a["a"]);var Y=new a["a"]({mode:"history",base:"/tweet-js-loader/",routes:[{path:"/",component:G}]}),K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},Q=[],X={name:"app"},Z=X,ee=(r("5c0b"),Object(f["a"])(Z,K,Q,!1,null,null,null)),te=ee.exports,re=r("ecee"),ne=r("c074"),ae=r("f2d1"),se=r("ad3d");re["c"].add(ne["a"],ae["a"]),n["a"].component("font-awesome-icon",se["a"]),n["a"].config.productionTip=!1,new n["a"]({router:Y,render:function(e){return e(te)}}).$mount("#app")},"5ab2":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"689b":function(e,t,r){},"6d78":function(e,t,r){"use strict";var n=r("5ab2"),a=r.n(n);a.a},"9c0c":function(e,t,r){},a34f:function(e,t,r){"use strict";var n=r("689b"),a=r.n(n);a.a}});